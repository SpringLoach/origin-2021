## 第十三章-客户端检测

### 能力检测
> 使用一套简单的检测逻辑，测试浏览器是否支持某种特性，不在乎是什么浏览器。   
 
\- 先检测最常用的方式  
\- 必须检测切实需要的特性  

#### 1. 安全能力检测  
属性存在不代表就可以使用，进行能力检测时应该尽量使用 typeof 操作符（检测是否为函数）。

:frog:IE8及以前，DOM 对象被实现为 COM 对象，typeof 返回 `object` 而非 `function`。

#### 2. 基于能力检测进行浏览器分析

**检测特性** 

需要使用特定的浏览器能力，最好集中检测所有能力，保存在变量中的布尔值可以用在后面的条件语句中。  

**检测浏览器** 

可以根据对浏览器特性的检测结果与已知特性对比，确认用户使用的是什么浏览器。  

:frog:能力检测最适合用于决定下一步该怎么做，而不一定能够作为辨识浏览器的标志。

----

### 用户代理检测  
> 通过用户代理字符串确定浏览器。  

有时候知道是否基于某个渲染引擎比知道特定浏览器更重要。

**浏览器分析**   

用户代理字符串中包含浏览器等很多信息，但很多浏览器会 `伪装自己`，甚至有些浏览器提供方法 `篡改用户代理字符串`。

:frog:如果相信浏览器返回的用户代理字符串，那就可以用它来判断浏览器，如果怀疑脚本或浏览器篡改这个值，那最好用能力检测。在选择客户端检测方法时，首选是使用 `能力检测`。

**浏览器解析程序**   

推荐到 Github 上找。

----

### 软件与硬件检测（通过浏览器进行）

#### 识别浏览器与操作系统

还有浏览器开发商信息、显示器位深、设备旋转

#### 浏览器元数据

 标题1 | 标题2 
 :-: | :-: 
 Geolocation API | 让浏览器脚本感知当前设备的地理位置。
 Connection State 和 Network Information API | 跟踪网络连接状态并暴露相关信息。
 Battery Status API  | 访问设备电池及充电状态的信息。

#### 硬件  

访问处理器核心数（最大工作线程数量）、设备内存大小、最大触点数












