#### jquery部分方法  

方法 | 说明
:-: | :-: 
removeClass(*class*) | 从元素移除一个或多个类
toggleClass(*class*) | 切换类：存在删，不存在添
addClass(*class*) | 添加指定的类
siblings() | 获得匹配元素集合中所有元素的同辈元素
next() | 获得匹配元素集合中每个元素紧邻的同辈元素
find() | 获得当前匹配元素集合中每个元素的后代

----

判断 | JavaScript是 | 说明
:-: | :-: | :-: 
× | 面向对象的程序设计语言 | 基于面向对象
√ | 解释性语言 | 相对于编译

#### 原型  
> 通过 `new function(){}` 返回的是一个继承自 Object 的实例对象，没有继承 Function。  

```
Object.prototype.a = function(){};
Function.prototype.b = function(){};
var f = new function(){};
var f1 = new Function

console.log(f.a);   // ƒ (){}
console.log(f.b);   // undefined
console.log(f1.a);  // ƒ (){}
console.log(f1.b);  // ƒ (){}
```

原型查找  
> 由于 b 自身没有 x，`b.x` 的值会顺着原型链往上找，由于它的原型实例存在一个未赋值的 `x`，故为 `undefined`。  
> 
> 若将 ① 删除，结果为 1。若将 ② 传入任意参数，结果为该参数。   

```
function A(x){
  this.x = x;       // ①
}
A.prototype.x = 1;

function B(x){
this.x = x;
}
B.prototype = new A();   // ②
var a = new A(2), b = new B(3);
delete b.x;    

console.log(a.x);  //  2
console.log(b.x);  //  undefined
```

判断 | 触发隐式转换 | 说明
:-: | :-: | :-: 
× | 2e1 * 0xaa | 无类型转换  
√ | parseInt(12.34, 10) | 解析字符串并返回整数  

判断 | 正确添加样式 | 说明
:-: | :-: | :-: 
√ | 每个对象都具有一个名为__proto__的属性 | 隐式原型(null无)
× | 每个对象都具有一个名为prototype的方法 | /
√ | 每个对象的__proto__属性指向自身构造函数的prototype | /
√ | 对象不具有prototype属性，只有函数才有prototype属性 | 显式原型

#### DOM  

判断 | 正确添加样式
:-: | :-:
√ | document.getElementById('button1').style.backgroundColor="red";
× | document.getElementById('button1').style.backGroundColor="red"; 

#### 提升顺序  
> 函数提升优先级高于变量提升。  
> 
> 相同作用域时声明变量而不赋值则还是以前的值。  

```
console.log(foo);
var foo = 1         //变量提升
console.log(foo)
foo()
function foo(){     //函数提升
   console.log('函数')
}
```
等价于
```
function foo(){
   console.log('函数')
}
var foo 

console.log(foo) // foo() {}
foo = 1; 
console.log(foo) // 1
foo()            // 报错
```

**栗子2**  
> 函数表达式不能被提前。  
```
var x = foo();
var foo = function foo() {...}
```
等价于
```
var foo;
var x = foo();
foo = function foo() {...}
```

**栗子3**  
> 由于声明被提升，函数作用域中的 `b` 不会影响全局。  

```
var b = 3;
(function(){
  b = 5;
  var b = 2;
})();
console.log(b);  // 3
```

#### 异步编程  

会报错，因为排除的拒绝期约没有被捕获。  
```
Promise.reject(123).finally(a => {
  console.log(a);
});
```

#### 判断关系  

判断 | 表达式
:-: | :-: 
× | undefined == 0
× | null == false
√ | null == undefined
× | NaN == NaN

#### 表单  

下拉菜单中，用户更改表单元素Select中的值时，调用的事件处理程序

判断 | 事件处理程序 | 时机
:-: | :-:  | :-: 
√ | onMouseOver | 鼠标指针移动到元素上
√ | onFocus  | 获取焦点
√ | onChange | 元素值改变时触发
√ | onClick | / 

#### 鼠标事件  

事件 | 时机
:-:  | :-: 
click | 点击
contextmenu | 鼠标右键、键盘按键触发菜单
mouseout | 鼠标移出元素

#### 改变函数作用域  
> this 绑定的优先级是 new>bind>call(apply)>obj.func()>默认绑定  
> 
> 尽管上下文中的 `this` 实际上指代的是 console，但打印的 `this` 是从外部传入的。  

```
var obj = {};
obj.log = console.log;
obj.log.call(console,this);  // Window
```

#### 正则表达式   
> 只能输入零和非零开头的数字。  

```
^(0|[1-9][0-9]*)$

^   以。。。开头; $  以。。。结尾。
*   任意多次
|   或
（）组
[]  集合
```

#### 暂时性死区  
> 虽然无法提升，但 JS 引擎会注意到后面 let 的**定义**，与此同时，**就不能**去取外层的同名变量了。  

```
let x = 10;
let foo = () => {
  console.log(x);
  let x = 20;
  x++;
}

foo();  // 报错
```

#### 最准确判断数组类型

判断 | 事件处理程序 | 说明 
:-: | :-: | :-:  
× | `arr instanceof Array` | 跨框架不行
√ | `Object.prototype.toString.call(arr) === '[object Array]'` | isArray的实现原理，不用数组被改写的toString

#### 运算优先级  
> `+` 运算符的优先级高于三目运算符。  

```
var val;
console.log('Value is ' + (val != '0') ? 'define' : 'undefine');
```

#### 隐形转换  

```
let a = 2.2;
console.log(a.split('.')[0]);  // 报错
```

#### History对象  
> History 对象包含用户（在浏览器窗口中）访问过的 URL
> 
> 但出于隐私方面的原因，History 对象不再允许脚本访问已经访问过的实际 URL。唯一保持使用的功能只有 back()、forward() 和 go() 方法。  

#### for循环  

```
/* 这里 ++i 和 i++ 都是一样的，因为最后判断前还会在操作一遍，故为5 */
for(var i=0;i<5;++i){  
  setTimeout(function(){
    console.log(i+ ' ');
  },100);
}
// 5 5 5 5 5 
```

#### this  
> 非 `new` 调用，指向函数的执行环境。  

```
var obj = {a:1,b:function () {alert(this.a)}}; 
obj.b();   // 1

var fun = obj.b; 
fun();     // undefined
```

#### 正则  
> 哪些正则表达式满足regexp.test('abc') === true  

```
/^abc$/                // 完全匹配
/...(?=.)/             // 唯一错，3n + 1
/[ab]{2}[^defgh]/      // ab任意 + 非
/[defgh]*/             // *匹配0或多个字符
```

#### 原型  

判断 | 表达式 | 说明
:-: | :-: | :-:  
× | 每个JS对象一定对应一个原型对象 | Object.create(null)
√ | 对象的__proto__指向自己构造函数的prototype | /
√ | Object.prototype. __proto__=== null，说明原型链到Object.prototype终止 | /


#### DOM  

判断 | 表达式 | 说明
:-: | :-: | :-:  
× | 在事件中，this总是指向触发这个事件的对象 | 可能目标对象不是它  
√ | this是函数运行时自动生成的一个内部对象，只能在函数内部使用 | / 

```
function abc() {
  this.i = 3;
  return this
}
abc()

console.log(this)    // Window
console.log(this.i)  // 3
```

#### 正则  

表达式 | 说明
:-: | :-: 
\d | 匹配一个数字,等价于\[0-9\]
\w | 匹配字母、数字或者下划线,等价于 \[A-Za-z0-9_\]
? | 匹配0个或1个
\1 | 对第一个捕获组的引用
\+ | 匹配前面一个表达式 1 次或者多次
\* | 匹配前一个表达式 0 次或多次

#### 闭包和运算符    
> 若改为 `++i`，结果为 121

```
function Foo() {
    var i = 0;
    return function() {
        console.log(i++);
    }
}
 
var f1 = Foo(),
    f2 = Foo();
f1();  // 0
f1();  // 1
f2();  // 0
```

#### 实例化错误  

判断 | 表达式
:-: | :-: 
× | var obj=( );
√ | var obj=\[ ]\;
√ | var obj={ };
√ | var obj=/ /;

#### 回流  

索引 | 导致reflow发生的行为
:-: | :-: 
Ⅰ | 改变窗口大小
Ⅱ | 改变文字大小
Ⅲ | 内容的改变，如用户在输入框中敲字
Ⅳ | 激活伪类，如:hover
Ⅴ | 操作class属性
Ⅵ | 脚本操作DOM
Ⅶ | 计算offsetWidth和offsetHeight
Ⅷ | 设置style属性，则**有可能**  

#### 数字方法  
> 以下表达式不会出现错误的有  
> 
> 数字后面.会被解析为小数点。  

判断 | 表达式  
:-: | :-: 
× | 2.toString() 
√ | 2..toString() 
√ | 2 .toString()
√ | (2).toString() 

#### 比较  

判断 | 表达式 | 说明 
:-: | :-: | :-: 
× | 'foo' == new function(){ return String('foo'); }; | 构造函数，显性返回非对象时，实际返回 new 的结果
√ | 'foo' == new function(){ return new String('foo'); }; | 显性返回对象时，就返回该对象  
√ | \[\] == 0 | 在 `==` 环境下，`[]` 会先转数字类型为 `0`
× | \[1, 2, 3\].splice(1, 1, 1) == \[2\] | 地址不同

#### 数组  
> 考察数组本身就是对象，以及无法用 `length` 属性反映这些添加的属性。  

```
var arr = [4, 5];
arr.a = 1;
arr.b = 2;
console.log(arr.length);
```

#### 正则  
> 字符串 const str = 'qwbewrbbeqqbbbweebbbbqee';中能得到结果\["b", "bb", "bbb", "bbbb"\] 

```
/b+/g    // 匹配前面的子表达式一次或多次，有一个或多个b
 
/b*/g    // 匹配前面的子表达式零次或多次，错误解
 
/b{1,4}/g   // 匹配1-4个b 
 
/b{1,5}/g    // 匹配1-5个b
```

#### 异步编程  

判断 | 方式  
:-: | :-: 
√ | 回调函数
√ | 事件监听
√ | 发布/订阅
√ | Promises对象

#### 自定义排序  
> 一次传入两个数组参数，返回负值时，前者在前；返回正值时，前者在后。  

```
function mSort(a, b) {
  return a-b;
}
let arr = [4, 7, 1];
console.log(arr.sort(mSort));  // [1, 4, 7]
```

#### cookie  
> 如果不给cookie设置过期时间会怎么样？  
>  
> 在浏览器会话结束时过期

#### 跨域  
> 只要协议、域名、端口有任何一个不同, 都被当作是不同的域。  

#### apply  
> 如果第一个参数是null，则使用全局对象代替。   

#### this  

```
var color = 'a';
var obj = {
  color: 'b',
  getColor() {
    var color = 'c';
    console.log(color);  // c
    alert(this.color);
  }
}

obj.getColor();          // b

let x = obj.getColor;
x();                     // a
```

#### 原始类型  
> Undefined, Null, Boolean, String, Number, Symbol(es6)

#### 解释性语言  

- 非独立：JavaScript语言依赖执行环境，对于客户端来说是浏览器，对于服务端来说是node。  
- 效率低：执行前不需要编译，执行时才编译，因此效率低。

#### Math  
> 与其它语言不同，如果负数的小数位恰好为 5，会向正值方向靠拢。   

```
Math.round(-11.5)  // -11
```

#### 异或操作  

```
0xff ^ 33 的结果是 222

0xff  1111 1111  (255)
      0010 0001  (33)
      1101 1110（222）
```

#### 获取元素  

所属节 | 方法
:-: | :-: 
定位元素 | getElementById
定位元素 | getElementsByTagName
定位元素 | getElementsByName
CSS类拓展 | getElementsByClassName

#### XML  
> XML 和 HTML 为不同的目的而设计。  
> 
> HTML 旨在显示信息，而 XML 旨在传输信息。

#### 输入框验证  

判断 | 事件 | 说明
:-: | :-:  :-: 
× | keypress | 局限于键盘输入
√ | change | / 

#### Number  
> Number(null); // 0

#### 闭包  
> 下列代码存在几个变量没有被回收：3

```
var i = 1;
var i = 2;
var add = function() {
    var i = 0;
    return function()
{
        i++;
        console.log(i);
    }
}();
add();
```

#### readystatechange  
> 发生在 onload 之前，document有 `readyState` 属性来描述 document 的 loading 状态，改变时触发该事件。  

#### 添加javascript  
> 给网页添加javascript的方式有

判断 | 方法 | 说明  
:-: | :-: | :-: 
√ | 使用script标签 | /
√ | 添加外部javascript文件 | /
√ | 使用行内javascript | `onclick="javascript:void(0)"`  
× | 使用@import引入javascript文件 | CSS用法

#### 事件处理程序    
> `preventDefault()`，取消事件默认行为，如阻止点击提交按钮时对表单的提交，仍会执行之后的代码。  

#### 提升  

```
var m= 1, j = k = 0; 
function add(n) { 
    return n = n+1; 
} 
y = add(m);          // 4
function add(n) { 
    return n = n + 3; 
} 
z = add(m);          // 4
```

#### 期约  
> `Promise.all()` **返回**一个期约对象，成功时接收一个数组参数作回调参。  

#### 运算符  

```
({} + 'b' > {} + 'a')  // true
      等价于
"[object Object]b" > "[object Object]a"
```

结果 | 方法 | 说明  
:-: | :-: | :-: 
0 | (()=>{}).length | 形参个数
0 | 1 & 2 | 位与运算
0 | +\[\] | 隐式类型转换  

```
// 报错
console.log('a' + b)
```

#### switch  
> 没有 `break`，会继续执行。  

```
var x=0;
switch(++x)
{
  case 0: ++x;
  case 1: ++x;
  case 2: ++x;
}
// 3
```

#### JS常识  
> javascirpt中的数字在计算机内存储为**8**Byte  
> 
> 第一个字符必须是一个字母、下划线（\_）或一个美元符号（$）；其他字符可以是字母、下划线、美元符号或数字

#### this
> 立即执行函数表达式中的 this 指向 window（由window调用）。  
> 
> 内部函数无 `self`，从作用域链上找到指向 `myObject` 的副本。  

```
var myObject = {
    foo: "bar",
    func: function() {
        var self = this;
        console.log(this.foo);  
        console.log(self.foo);  
        (function() {
            console.log(this.foo);  
            console.log(self.foo);  
        }());
    }
};
myObject.func();
```

#### CommonJS  
> 在任何模块代码的作用域下内置了以下变量。

判断 | 方法   
:-: | :-: 
√ | module 
× | context 
√ | require 
√ | exports 

#### NOSCRIPT  
> 用来定义在脚本未被执行时的替代内容。  

#### 加载外部资源  

标签 | 配合 | 说明     
:-: | :-: | :-: 
<link\> | href | 加载css
<script\> | context | 加载script文件，source资源

#### 数组方法  

```
var a =[1, 2, 3];
var b = a.slice(); // 返回新数组
b.push(4);
console.log(a)     // [1, 2, 3]
```

#### 比较  

判断 | 表达式 | 说明  
:-: | :-: | :-: 
× | `alert(3==true)` | 优先转换为数值
√ | `alert(isNaN("true"))` | 非数字值，即 `NaN`

#### 验证账户名  

```
var filt=/^[a-zA-Z_0-9]+$/;
if(!filt.test(str))
{
  alert("账号只包含字母、数字、下划线");
}
```

#### 参数声明  
> 形参 `a` 是局部变量，不会影响全局。  

```
function test(a){
a = a + 10
b = a + 10;
}
var a = 10;
var b = 10;
test(a);
console.log(a);   // 10
console.log(b);   // 30
```

#### 作用域与堆内存  
> 堆内存与私有作用域是不同的。  
> 
> 将 `n++` 改为 `this.n++`，得到的结果将是 4399、4400。  

```
function test(){
  var n = 4399;
  function add() {
    n++;
    console.log(n);
  }
  return {
    n,
    add
  }
}
var result = test();
result.add();          // 4400
console.log(result.n); // 4399
```

#### 兼容  
> 在大数据量场景下，以下哪种js中字符串连接方式较为高效。  

- 在 ie7- 用数组的 `join` 效率更高，因为字符串连接：会新建临时字符串，将新字符串赋值为a+b，然后返回这个临新字符串并同时销毁原始字符串  
- 现在，都差不多

#### 触摸事件  

事件 | 说明  
:-: | :-:
touchstart | 手指放到屏幕上时触发
touchmove | 手指在屏幕上滑动式触发
touchend | 手指离开屏幕时触发
touchcancel | 系统取消touch事件的时候触发

#### 阻止默认行为  
> e.preventDefault()  
> e.returnValue = false  (IE)  

#### 日期  
> 有var d = new Date('2018-05-09')，可以设置为6月份的操作是  

判断 | 表达式 | 说明  
:-: | :-: | :-: 
√ | `d.setMonth(5)` | 0-11
√ | `d.setDate(40)` | 当月 1 号开始算  

#### 块内声明函数  
> 不要使用函数声明，如需要，使用函数表达式。  

#### 函数表达式  
> 这种情况下，`g` 只能通过函数内部访问。  

```
var f = function g() {
    return 23;
  };
typeof g();
```

#### 事件  
> 不能冒泡的事件。    

1. load和unload （完成加载、卸载）  
2. error （加载失败）  
3. mouseenter和mouseleave （鼠标移入移出）  
4. blur和focus （失焦、获焦）  
5. resize （调整窗口大小）  
6. abort （音视频终止加载）  

#### 运算符  

```
console.log(1 + "2" + "2");    // 122
console.log(1 + +"2" + "2");   // 32
console.log("A"- "B" + "2");  // NaN2
console.log("A"- "B" + 2);    // NaN
```

```
var x=10;
var y=20;
var z=x<y?x++:++y;
console.log(x, y, z);  // 11 20 10
```

#### 浏览器兼容  

/ | IE | FIREFOX  
:-: | :-: | :-: 
innerText | √ | ×
document.createElement | × | √
setAttribute | × | √

#### in操作符  

判断 | 表达式 | 说明  
:-: | :-: | :-: 
× | 1 in \[1\] | 在数组中表示是否包含索引
√ | 'a' in {a: 2} | 在对象中表示是否包含该键
√ | 1 && 2 > 1 | 优先

#### DOM
> `innerHTML` 属性设置或返回表格行的开始和结束标签之间的 HTML。  

```
<div id=”info” style=”display:block”><p> 请填写 </p></div>

console.log(document.getElementById(“info”).innerHTML);  

// <p> 请填写 </p>
```

#### 正则  
> `\1` 指向第一个分组，即 `(l)`，等价于 `/(ll)/g`。  

```
var str = "Hellllo world";
str = str.replace(/(l)\1/g, '$1');  // Hello world
```

#### 提升  

```
if(! "a" in window){
    var a = 1;
}
alert(a);   // undefined  
```

#### 表达式  

```
/* 对象与数字相加时，对象先调用自身的 valueOf 方法 */
let i = 1 + {
  valueOf() { return 9; }
};     // 10

/* forEach 在数组元素为空时会跳过该次执行 */
let i = 0;
  new Array(10).forEach(() => {
  i++;
});     //  0
```

#### 模块  

```
/* 没有提供对外的接口 */
// 报错
export 1;
// 报错
var m = 1;
export m;

// 写法一
export var m = 1;
// 写法二
var m = 1;
export {m};
// 写法三
var n = 1;
export {n as m};
```

#### 函数参数  

```
var foo = {n: 1};
(function(foo) {
  console.log(foo.n);
  foo.n = 3;          // 传入值为引用的复制
  var foo = {n: 2};   // 会提升，但优先级低于形参，无效 && 指向新的内存空间
  console.log(foo.n);
})(foo);

console.log(foo.n);
```









